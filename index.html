<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>手机直播商城2.1.0</title>
    <link rel="stylesheet" href="js/bower_components/swiper/dist/css/swiper.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/live.css">
</head>
<body>
    <figure class="live_box" id="video-container">
        <!--顶部主播和观众的头像文字显示-->
        <section class="live_info_box">
            <div class="box">
            <div class="anchor">
                <img src="img/6ac51a326a197a198007d05de0ed155f.jpg" alt="" />
                <dl class="user_info">
                    <dd class="room_name">云邮天下直播间</dd>
                    <dt>1414人</dt>
                </dl>
                <div class="living">直播中</div>
            </div>
            <ul class="audience_list">
                <li>
                    <a href="javascript:void(0)">
                        <img src="img/8ea1afd8810ebf213a2d218e39f5bf51.jpg@1e_1c_0o_0l_166h_166w_100q_1pr.jpg">
                    </a>
                </li>
                <li>
                    <a href="javascript:void(0)">
                        <img src="img/bb8b43bdd565e5a06cf7a84d837fdb6f.jpg">
                    </a>
                </li>
                <li>
                    <a href="javascript:void(0)">
                        <img src="img/push_image.jpg">
                    </a>
                </li>
                <li>
                    <a href="javascript:void(0)">
                        <img src="img/19a750843ccbd43ed53a8c0a3bbda69f.jpg">
                    </a>
                </li>
                <li>
                    <a href="javascript:void(0)">
                        <img src="img/8ea1afd8810ebf213a2d218e39f5bf51.jpg@1e_1c_0o_0l_166h_166w_100q_1pr.jpg">
                    </a>
                </li>
            </ul>
            </div>
        </section>
        <!--聊天内容-->
        <section class="content_box">
            <div>
                <ul class="content_list">
                    <li>
                        <div class="content">
                            <figure style="background-image: url('img/4109450f7c0de814dce9715528dcc504.jpg@1e_1c_0o_0l_166h_166w_100q_1pr.jpg')"></figure>
                            <dl class="content_info">
                                <dd><span class="user_type" style="background-color: #f9743a;">用户</span>云邮天下直播房间</dd>
                                <dt>多计算机十赌九输哈哈算是从14142211京</dt>
                            </dl>
                        </div>
                    </li>
                    <li>
                        <div class="content">
                            <figure style="background-image: url('img/4109450f7c0de814dce9715528dcc504.jpg@1e_1c_0o_0l_166h_166w_100q_1pr.jpg')"></figure>
                            <dl class="content_info">
                                <dd style="white-space: normal;line-height: 1.4rem"><span class="user_type" style="background-color: #00c4b9;">用户</span><span style="padding: 0 .3rem">爱上你的吻</span>进入直播房间</dd>
                            </dl>
                        </div>
                    </li>
                    <li>
                        <div class="content">
                            <figure style="background-image: url('img/4109450f7c0de814dce9715528dcc504.jpg@1e_1c_0o_0l_166h_166w_100q_1pr.jpg')"></figure>
                            <dl class="content_info">
                                <dd style="white-space: normal;line-height: 1.4rem"><span class="user_type" style="background-color: #00c4b9;">用户</span><span style="padding: 0 .3rem">爱上</span>进入直播房间</dd>
                            </dl>
                        </div>
                    </li>
                    <li>
                        <div class="welcome_info">
                            <span class="user_type" style="background-color: #ffd855;">游客</span>
                            <span style="padding: 0 .3rem">7854474</span>进入直播房间
                        </div>
                    </li>
                    <li>
                        <div class="content">
                            <figure style="background-image: url('img/4109450f7c0de814dce9715528dcc504.jpg@1e_1c_0o_0l_166h_166w_100q_1pr.jpg')"></figure>
                            <dl class="content_info">
                                <dd><span class="user_type" style="background-color: #f9743a;">用户</span>云邮天下直播房间</dd>
                                <dt>多计算机十赌九输14142211京</dt>
                            </dl>
                        </div>
                    </li>
                    <li>
                        <div class="content">
                            <figure style="background-image: url('img/4109450f7c0de814dce9715528dcc504.jpg@1e_1c_0o_0l_166h_166w_100q_1pr.jpg')"></figure>
                            <dl class="content_info">
                                <dd style="white-space: normal;line-height: 1.4rem"><span class="user_type" style="background-color: #00c4b9;">用户</span><span style="padding: 0 .3rem">爱上你的吻</span>进入直播房间</dd>
                            </dl>
                        </div>
                    </li>
                    <li>
                        <div class="welcome_info">
                            <span class="user_type" style="background-color: #ffd855;">游客</span>
                            <span style="padding: 0 .3rem">7854474</span>进入直播房间
                        </div>
                    </li>
                    <li>
                        <div class="content">
                            <figure style="background-image: url('img/4109450f7c0de814dce9715528dcc504.jpg@1e_1c_0o_0l_166h_166w_100q_1pr.jpg')"></figure>
                            <dl class="content_info">
                                <dd><span class="user_type" style="background-color: #f9743a;">用户</span>云邮天下直播房间</dd>
                                <dt>多计算机十赌九输14142211京</dt>
                            </dl>
                        </div>
                    </li>
                    <li>
                        <div class="content">
                            <figure style="background-image: url('img/4109450f7c0de814dce9715528dcc504.jpg@1e_1c_0o_0l_166h_166w_100q_1pr.jpg')"></figure>
                            <dl class="content_info">
                                <dd style="white-space: normal;line-height: 1.4rem"><span class="user_type" style="background-color: #00c4b9;">用户</span><span style="padding: 0 .3rem">爱上你的吻</span>进入直播房间</dd>
                            </dl>
                        </div>
                    </li>
                    <li>
                        <div class="welcome_info">
                            <span class="user_type" style="background-color: #ffd855;">游客</span>
                            <span style="padding: 0 .3rem">7854474</span>进入直播房间
                        </div>
                    </li>
                </ul>
            </div>
        </section>
        <!--底部按钮框-->
        <footer>
            44
        </footer>
    </figure>
    <!--商品列表-->
    <section class="goods_box animatedShowBox showInUp">
            <header>
                <div class="swiper-container" id="swiper-container2">
                    <div class="swiper-wrapper navbar">
                        <div class="swiper-slide active tuijian text-center swiper-no-swiping">
                            主播推荐
                        </div>
                        <div class="swiper-slide text-center swiper-no-swiping">
                            边看边买
                        </div>
                    </div>
                </div>
            </header>
            <!--下方内容信息-->
            <div class="swiper-container" id="swiper-container3">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <!-- 添加 class infinite-scroll 和 data-distance  向下无限滚动可不加infinite-scroll-bottom类，这里加上是为了和下面的向上无限滚动区分-->
                        <div class="content_ls infinite-scroll-bottom infinite-scroll" id="recommendList" style="height: 16rem;overflow-y: auto" data-distance="100">
                            <div class="list-block" style="margin-top: 0">
                                <ul class="list-container">
                                    <li class="push_store">
                                        <p class="text-center time_tip"><span class="time_m">3分钟前</span></p>
                                            <div class="gutter">
                                                <figure>
                                                    <img src="img/bb8b43bdd565e5a06cf7a84d837fdb6f.jpg" alt="pic" data-echo="img/push_image.jpg" width="100%">
                                                    </figure>
                                                        <section>
                                                            <div class="discrip">
                                                                Apple iPhone 7 Plus (A1661) 128G 玫瑰金色 移动联通电信4G手机特卖1800
                                                            </div>
                                                            <div class="discrip_info">
                                                                <div class="pull-left">
                                                                    <div class="much">￥<span style="font-size: 1.4rem">21</span>.00</div>
                                                                </div>
                                                                <div class="pull-right too_look">
                                                                    <a href="javascript:void (0);">查看商品</a>
                                                                </div>
                                                            </div>
                                                        </section>
                                            </div>
                                    </li>
                                    <li class="push_store">
                                        <p class="text-center time_tip"><span class="time_m">3分钟前</span></p>
                                        <div class="gutter">
                                            <figure>
                                                <img src="img/bb8b43bdd565e5a06cf7a84d837fdb6f.jpg" alt="pic" data-echo="img/push_image.jpg" width="100%">
                                            </figure>
                                            <section>
                                                <div class="discrip">
                                                    Apple iPhone 7 Plus (A1661) 128G 玫瑰金色 移动联通电信4G手机特卖1800
                                                </div>
                                                <div class="discrip_info">
                                                    <div class="pull-left">
                                                        <div class="much">￥<span style="font-size: 1.4rem">21</span>.00</div>
                                                    </div>
                                                    <div class="pull-right too_look">
                                                        <a href="javascript:void (0);">查看商品</a>
                                                    </div>
                                                </div>
                                            </section>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <!-- 添加 class infinite-scroll 和 data-distance  向下无限滚动可不加infinite-scroll-bottom类，这里加上是为了和下面的向上无限滚动区分-->
                        <div class="content_ls infinite-scroll infinite-scroll-bottom" id="allList" style="height: 16rem" data-distance="100">
                            <div class="list-block" style="margin-top: 0">
                                <ul class="list-container disable-router">
                                    <li class="push_store">
                                        <div class="gutter">
                                            <figure>
                                                <img src="img/bb8b43bdd565e5a06cf7a84d837fdb6f.jpg" alt="pic" data-echo="img/push_image.jpg" width="100%">
                                            </figure>
                                            <section>
                                                <div class="discrip">
                                                    Apple iPhone 7 Plus (A1661) 128G 玫瑰金色 移动联通电信4G手机特卖1800
                                                </div>
                                                <div class="store_info">
                                                    <div class="pull-left">
                                                        <small>商品数量：225</small>
                                                        <div class="much">￥21.00</div>
                                                    </div>
                                                    <div class="pull-right">
                                                        <div class="icon-shopcar"></div>
                                                    </div>
                                                </div>
                                            </section>
                                        </div>
                                    </li>
                                    <li class="push_store">
                                        <div class="gutter">
                                            <figure>
                                                <img src="img/bb8b43bdd565e5a06cf7a84d837fdb6f.jpg" alt="pic" data-echo="img/push_image.jpg" width="100%">
                                            </figure>
                                            <section>
                                                <div class="discrip">
                                                    Apple iPhone 7 Plus (A1661) 128G 玫瑰金色 移动联通电信4G手机特卖1800
                                                </div>
                                                <div class="store_info">
                                                    <div class="pull-left">
                                                        <small>商品数量：225</small>
                                                        <div class="much">￥21.00</div>
                                                    </div>
                                                    <div class="pull-right">
                                                        <div class="icon-shopcar"></div>
                                                    </div>
                                                </div>
                                            </section>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <!-- 加载提示符 -->
                            <div class="infinite-scroll-preloader">
                                <div class="preloader"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--下方内容信息-->
            <footer class="text-center">
                <a href="shopcar.html" class="shopping">购物车(10)</a>
            </footer>
    </section>
</body>
    <!--<script src="js/imsdk/webim.js"></script>-->
    <!--<script src="js/imsdk/json2.js"></script>-->
    <script src="js/webLive.im.js"></script>
    <script src="//imgcache.qq.com/open/qcloud/video/vcplayer/TcPlayer.js"></script>
    <script type='text/javascript' src='//g.alicdn.com/sj/lib/zepto/zepto.min.js' charset='utf-8'></script>
    <!--<script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm.min.js' charset='utf-8'></script>-->
    <!--<script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm-extend.min.js' charset='utf-8'></script>-->
    <script src="js/bower_components/zepto/zepto.touch.js"></script>
    <script src="js/bower_components/swiper/dist/js/swiper.jquery.min.js"></script>
    <script src="js/bower_components/echo/echo.js"></script>
    <script>
        (function(){
            function getParams(name) {
                var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');
                var r = window.location.search.substr(1).match(reg);
                if (r != null) {
                    return decodeURIComponent(r[2]);
                }
                return null;
            }
            var rtmp = getParams('rtmp'),
                flv  = getParams('flv'),
                m3u8 = getParams('m3u8'),
                mp4  = getParams('mp4'),
                live = (getParams('live') == 'true' ? true : false),
                coverpic = getParams('coverpic'),
                width = getParams('width'),
                height = getParams('height'),
                autoplay = (getParams('autoplay') == 'true' ? true : false);
            /**
             * 视频类型播放优先级
             * mobile ：m3u8>mp4
             * PC ：RTMP>flv>m3u8>mp4
             * x5-video-player-type="h5" x5-video-player-fullscreen="true"
             */
            var options = {
                rtmp: rtmp,
                flv: flv ,
                m3u8: m3u8 || 'http://alcdn.hls.xiaoka.tv/20161216/1fc/bbb/1nIODMR2-Oydc5i_/index.m3u8',
//            mp4 : mp4 || '',
                coverpic: 'img/video.jpg',
                autoplay: true,
                live: true,
                width : $(window).width(),
                height : 'auto',
                wording: {
                    2032: '请求视频失败，请检查网络',
                    2048: '请求m3u8文件失败，可能是网络错误或者跨域问题'
                },
                listener: function (msg) {
                    //console.log(msg.type);
                }
            };
            var player = new TcPlayer('video-container', options);
            document.getElementsByTagName('video')[0].setAttribute('x5-video-player-type','h5');
            document.getElementsByTagName('video')[0].setAttribute('x5-video-player-fullscreen','true');
            document.getElementsByTagName('video')[0].setAttribute('width','100%');
            $('video').css({'margin-left':'-1.1%','margin-right':'-1.1%'});

//            swiper
            var mySwiper2 = new Swiper('#swiper-container2', {
                slidesPerView: 2,
                onTap: function () {
                    mySwiper3.slideTo(mySwiper2.clickedIndex);
                }
            });
            $('.swiper-no-swiping').on('touchend', function () {
                mySwiper3.slideTo($(this).index());
                $('.swiper-no-swiping').removeClass('active');
                $(this).addClass('active');
            });
            var mySwiper3 = new Swiper('#swiper-container3', {
                speed: 500,
                onSlideChangeStart: function () {
                    updateNavPosition()
                }
            });
            function updateNavPosition() {
                $('#swiper-container2 .active').removeClass('active');
                var activeNav = $('#swiper-container2 .swiper-slide').eq(mySwiper3.activeIndex).addClass('active');

                if (!activeNav.hasClass('swiper-slide-visible')) {
                    if (activeNav.index() > mySwiper2.activeIndex) {

                        var thumbsPerNav = Math.floor(mySwiper2.width / activeNav.width()) - 1;
                        mySwiper2.slideTo(activeNav.index() - thumbsPerNav)
                    }
                    else {
                        mySwiper2.slideTo(activeNav.index())
                    }
                }
            }
            $('.vcp-bigplay').on('touchend', function () {
                $('.goods_box').toggleClass('showOutDown');
            });
            $('.shopping').parents('footer').on('click',function () {
                alert(100)
            })
        })();
    </script>
</html>